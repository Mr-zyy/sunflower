(window.webpackJsonp=window.webpackJsonp||[]).push([[2,4],{"./examples/sunflower-antd-form-table/Example2.jsx":function(e,a,t){"use strict";t.r(a);t("./node_modules/antd/es/alert/style/index.js");var n=t("./node_modules/antd/es/alert/index.js"),s=(t("./node_modules/antd/es/row/style/index.js"),t("./node_modules/antd/es/row/index.js")),r=(t("./node_modules/antd/es/button/style/index.js"),t("./node_modules/antd/es/button/index.js")),l=(t("./node_modules/antd/es/select/style/index.js"),t("./node_modules/antd/es/select/index.js")),i=(t("./node_modules/antd/es/col/style/index.js"),t("./node_modules/antd/es/col/index.js")),o=(t("./node_modules/antd/es/input/style/index.js"),t("./node_modules/antd/es/input/index.js")),c=(t("./node_modules/antd/es/spin/style/index.js"),t("./node_modules/antd/es/spin/index.js")),u=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),d=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),f=t("react"),m=t.n(f),b=t("./packages/sunflower-antd/src/index.ts"),p=t("./examples/sunflower-antd-form-table/request.js");a.default=function(){var e=Object(b.b)({search:function(e){var a=e.currentPage,t=e.pageSize,n=Object(d.a)(e,["currentPage","pageSize"]);return console.log("requestData",e),Object(p.default)(Object(u.a)({currentPage:a,pageSize:t},n))},defaultFormValues:function(){return new Promise(function(e){return setTimeout(function(){e({field5:"jack",username:"a"})},2e3)})}}),a=e.Form,t=e.Table,f=e.form,g=e.total,j=e.currentPage,h=e.pageSize,O=e.formValues,v=e.defaultFormValuesLoading;return m.a.createElement("div",null,v?m.a.createElement("div",null,m.a.createElement(c.a,null)," default form values loading"):null,m.a.createElement(a,{labelCol:{span:8},wrapperCol:{span:16}},m.a.createElement(s.a,null,m.a.createElement(i.a,{span:8},m.a.createElement(a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input"}]},m.a.createElement(o.a,{placeholder:"Username",onChange:function(e){console.log(e.target.value)}}))),m.a.createElement(i.a,{span:8},m.a.createElement(a.Item,{label:"Field 1",name:"field1"},m.a.createElement(o.a,{placeholder:"Field 1"}))),m.a.createElement(i.a,{span:8},m.a.createElement(a.Item,{label:"Field 2",name:"field2"},m.a.createElement(o.a,{placeholder:"Field 2"}))),m.a.createElement(i.a,{span:8},m.a.createElement(a.Item,{label:"Field 3",name:"field3"},m.a.createElement(o.a,{placeholder:"Field 3"}))),m.a.createElement(i.a,{span:8},m.a.createElement(a.Item,{label:"Field 4",name:"field4"},m.a.createElement(o.a,{placeholder:"Field 4"}))),m.a.createElement(i.a,{span:8},m.a.createElement(a.Item,{label:"Field 5",name:"field5"},m.a.createElement(l.a,null,m.a.createElement(l.a.Option,{value:"jack"},"Jack"),m.a.createElement(l.a.Option,{value:"lucy"},"Lucy")))),m.a.createElement(i.a,{span:24,style:{textAlign:"right"}},m.a.createElement(r.a,{style:{marginRight:12},onClick:function(){return f.resetFields()}},"reset"),m.a.createElement(r.a,{type:"primary",htmlType:"submit"},"Search")))),m.a.createElement(n.a,{message:"total num: ".concat(g||0,",\n         currentPage: ").concat(j||1,",\n         pageSize: ").concat(h||10,",\n         Username: ").concat(O.username||"","\n      "),style:{margin:"20px 0 20px 0"}}),m.a.createElement(t,{columns:[{title:"Username",dataIndex:"username",key:"username"},{title:"Email",dataIndex:"email",key:"email"}],rowKey:"id",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))}},"./examples/sunflower-antd-form-table/request.js":function(e,a,t){"use strict";t.r(a);var n=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=t("./node_modules/mockjs/dist/mock.js"),r=t.n(s).a.mock(Object(n.a)({},"list|".concat(200),[{username:"@name",email:"@email",id:"@guid"}]));function l(e,a,t){return t?e.filter(function(e){return e[a].toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}):e}a.default=function(e){var a=e.username,t=e.email,n=e.pageSize,s=e.currentPage;console.log("username: %s, pageSize: %s, currentPage: %s",a,n,s);var i=n*(s-1),o=i+n,c=r.list;c=l(c,"username",a);var u=(c=l(c,"email",t)).slice(i,o);return new Promise(function(e){return setTimeout(function(){e({list:u,total:c.length})},300)})}},"./packages/sunflower-antd/src/index.ts":function(e,a,t){"use strict";t("./node_modules/antd/es/table/style/index.js");var n=t("./node_modules/antd/es/table/index.js"),s=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),l=t("react"),i=t.n(l),o=t("./packages/sunflower-antd-form-table/node_modules/rc-field-form/es/index.js"),c=(t("./node_modules/antd/es/form/style/index.js"),t("./node_modules/antd/es/form/index.js")),u=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),d=t("./packages/sunflower-form/node_modules/rc-field-form/es/index.js"),f=function(e){var a=e.children,t=e.form,n=e.onFinish,s=e.initialValues,r=Object(u.a)(e,["children","form","onFinish","initialValues"]);return i.a.createElement(c.a,Object.assign({},r,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t.validateFields().then(function(e){n&&n(e)}).catch(function(){})}}),i.a.createElement(d.b,{form:t,onFinish:n,component:!1,initialValues:s},a))};f.Item=function(e){var a=e.name,t=e.children,n=e.rules,r=Object(u.a)(e,["name","children","rules"]);return i.a.createElement(d.a,Object.assign({name:a,rules:n},r),function(e,l,o){var u=Object(s.a)({},e,t.props,{__sunflower:{form:o,name:a}}),d="function"===typeof t?t(e,l,o):t;d.props.onChange&&(u.onChange=function(){var a;e.onChange.apply(e,arguments),(a=d.props).onChange.apply(a,arguments)});var f=i.a.cloneElement(d,u),m=l.errors.length>0?"error":void 0,b=l.errors.length>0?l.errors[0]:void 0,p=!!(n||[]).find(function(e){return e.required});return i.a.createElement(c.a.Item,Object.assign({help:b,validateStatus:m,required:p},r),f)})};var m=f;f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Form",filename:"packages/sunflower-form/src/index.tsx"}}),"undefined"!==typeof UseSearchResultConfig&&UseSearchResultConfig&&UseSearchResultConfig===Object(UseSearchResultConfig)&&Object.isExtensible(UseSearchResultConfig)&&Object.defineProperty(UseSearchResultConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseSearchResultConfig",filename:"packages/sunflower-hooks-search-result/src/index.ts"}});var b=function(e){var a=e.search,t=e.autoFirstSearch,n=void 0===t||t,s=e.defaultRequestData,i=Object(l.useState)(),o=Object(r.a)(i,2),c=o[0],u=o[1],d=Object(l.useState)(),f=Object(r.a)(d,2),m=f[0],b=f[1],p=Object(l.useState)(!1),g=Object(r.a)(p,2),j=g[0],h=g[1],O=Object(l.useState)(!1),v=Object(r.a)(O,2),S=v[0],_=v[1],C=function(e){return u(e),h(!0),Promise.resolve(a&&a(e)).then(function(e){b(e),h(!1)})};return Object(l.useEffect)(function(){var e;_(!0),e="function"===typeof s?s():s,Promise.resolve(e).then(function(e){u(e),_(!1),n&&C(e)}).catch(function(){_(!1)})},[]),{loading:j,requestData:c,setRequestData:u,responseData:m,defaultRequestDataLoading:S,search:C}};b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useSearchResult",filename:"packages/sunflower-hooks-search-result/src/index.ts"}});var p=function(){var e=Object(l.useRef)();return{get:Object(l.useCallback)(function(){return e.current},[]),set:Object(l.useCallback)(function(a){e.current=a},[])}};p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useStore",filename:"packages/sunflower-hooks-store/src/index.ts"}}),"undefined"!==typeof SearchResponseData&&SearchResponseData&&SearchResponseData===Object(SearchResponseData)&&Object.isExtensible(SearchResponseData)&&Object.defineProperty(SearchResponseData,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SearchResponseData",filename:"packages/sunflower-antd-form-table/src/index.tsx"}}),"undefined"!==typeof UseSearchResultAntdConfig&&UseSearchResultAntdConfig&&UseSearchResultAntdConfig===Object(UseSearchResultAntdConfig)&&Object.isExtensible(UseSearchResultAntdConfig)&&Object.defineProperty(UseSearchResultAntdConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseSearchResultAntdConfig",filename:"packages/sunflower-antd-form-table/src/index.tsx"}});var g=function(e){var a=e||{},t=a.search,c=a.autoFirstSearch,u=void 0===c||c,d=a.defaultPageSize,f=void 0===d?10:d,g=a.defaultCurrentPage,j=void 0===g?1:g,h=a.defaultFormValues,O=void 0===h?{}:h,v=Object(o.a)(),S=Object(r.a)(v,1)[0],_=Object(l.useState)(),C=Object(r.a)(_,2),x=C[0],E=C[1],y=b({search:t,autoFirstSearch:u,defaultRequestData:function(){var e;return e="function"===typeof O?O():O,Promise.resolve(e).then(function(e){var a=S.isFieldsTouched(),t=Object(s.a)({},e);if(Object.keys(e).forEach(function(a){t[a]=S.isFieldTouched(a)?S.getFieldValue(a):e[a]}),E(e),S.setFieldsValue(t),a)throw k(Object(s.a)({pageSize:f,currentPage:j},t)),new Error("will not autoFirstSearch");return Object(s.a)({pageSize:f,currentPage:j},t)})}}),w=y.loading,P=y.requestData,D=void 0===P?{}:P,k=y.setRequestData,F=y.responseData,R=void 0===F?{}:F,U=y.defaultRequestDataLoading,L=y.search,z=p(),q=z.get,V=function(e){L(Object(s.a)({currentPage:1,pageSize:D.pageSize},e))},A=function(e){L(Object(s.a)({},D,{currentPage:e}))},I=function(e,a){L(Object(s.a)({},D,{currentPage:1,pageSize:a}))};(0,z.set)({requestData:D,responseData:R,loading:w,initialValues:x,onFinish:V,onPaginationChange:A,onPaginationShowSizeChange:I});var T=Object(l.useCallback)(function(e){return i.a.createElement(m,Object.assign({form:S,onFinish:q().onFinish,initialValues:q().initialValues},e))},[]),J=Object(l.useCallback)(function(e){var a=e.pagination,t=q(),r=Object(s.a)({onChange:t.onPaginationChange,onShowSizeChange:t.onPaginationShowSizeChange,pageSize:t.requestData.pageSize,current:t.requestData.currentPage},a||{},{defaultPageSize:f,defaultCurrent:j,total:t.responseData.total});return i.a.createElement(n.a,Object.assign({loading:t.loading,dataSource:t.responseData.list},e,{pagination:r}))},[]);T.Item=m.Item;var W=Object(s.a)({},D);return delete W.currentPage,delete W.pageSize,{Form:T,Table:J,form:S,loading:w,formValues:W,currentPage:D.currentPage,pageSize:D.pageSize,list:R.list,total:R.total,defaultFormValuesLoading:U,pagination:{onChange:A,onShowSizeChange:I},onFinish:V,search:function(e){L(Object(s.a)({},D,e))}}};g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useFormTable",filename:"packages/sunflower-antd-form-table/src/index.tsx"}});t("./node_modules/antd/es/select/style/index.js");var j=t("./node_modules/antd/es/select/index.js"),h=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");"undefined"!==typeof UseCascadeSearchConfig&&UseCascadeSearchConfig&&UseCascadeSearchConfig===Object(UseCascadeSearchConfig)&&Object.isExtensible(UseCascadeSearchConfig)&&Object.defineProperty(UseCascadeSearchConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseCascadeSearchConfig",filename:"packages/sunflower-hooks-cascade-search/src/index.ts"}});var O=function(e){var a=e.list,t=void 0===a?[]:a,n=Object(l.useState)([]),s=Object(r.a)(n,2),i=s[0],o=s[1],c=Object(l.useState)(t.map(function(){return!1})),u=Object(r.a)(c,2),d=u[0],f=u[1];return{search:function(e){if(!(e>=t.length||e<0)&&(!(e>0)||i[e-1])){var a=Object(h.a)(i.slice(0,e));o(a);var n=Object(h.a)(d);n[e]=!0,f(n);for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];Promise.resolve(t[e].apply(t,[i[e-1]].concat(r))).then(function(a){var t=Object(h.a)(i.slice(0,e+1));t[e]=a;var n=Object(h.a)(d);n[e]=!1,f(n),o(t)})}},responseDataList:i,loadingList:d,setResponseDataList:o}};O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useCascadeSearch",filename:"packages/sunflower-hooks-cascade-search/src/index.ts"}}),"undefined"!==typeof OptionData&&OptionData&&OptionData===Object(OptionData)&&Object.isExtensible(OptionData)&&Object.defineProperty(OptionData,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OptionData",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}}),"undefined"!==typeof OptionDataList&&OptionDataList&&OptionDataList===Object(OptionDataList)&&Object.isExtensible(OptionDataList)&&Object.defineProperty(OptionDataList,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OptionDataList",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}}),"undefined"!==typeof UseCascadeSelectConfig&&UseCascadeSelectConfig&&UseCascadeSelectConfig===Object(UseCascadeSelectConfig)&&Object.isExtensible(UseCascadeSelectConfig)&&Object.defineProperty(UseCascadeSelectConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseCascadeSelectConfig",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}});var v=function(e){var a=e.list,t=void 0===a?[]:a,n=e.autoFirstSearch,s=void 0===n||n,r=O({list:t.map(function(e){return function(a){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return e.apply(void 0,n)}})}),o=r.search,c=r.responseDataList,u=r.loadingList,d=r.setResponseDataList,f=Object(l.useRef)([]),m=p(),b=m.get;(0,m.set)({responseDataList:c,loadingList:u,search:o});var g=Object(l.useMemo)(function(){return t.map(function(e,a){return function(e){if(e.__sunflower){var t=e.__sunflower.name;f.current[a]=t}var n=b().responseDataList[a],s=e.value;return Object(l.useEffect)(function(){s&&n&&b().search(a+1,e.value)},[s,n]),i.a.createElement(j.a,Object.assign({loading:b().loadingList[a]},e,{value:n&&s,onChange:function(t,n){if(e.onChange&&e.onChange(t,n),e.__sunflower){for(var s=e.__sunflower.form,r={},l=a+1;l<f.current.length;l+=1)r[f.current[l]]=void 0;var i=b().responseDataList.slice(0,a+1);s.setFieldsValue(r),d(i)}}}),n&&n.map(function(e){return i.a.createElement(j.a.Option,{value:e.value,key:e.value},e.label)}))}})},[]);return Object(l.useEffect)(function(){s&&!c[0]&&o(0)},[]),{search:o,selects:g,optionsList:c,loadingList:u}};v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useCascadeSelect",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}}),t.d(a,"b",function(){return g}),t.d(a,"a",function(){return v}),v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useCascadeSelect",filename:"packages/sunflower-antd/src/index.ts"}}),g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useFormTable",filename:"packages/sunflower-antd/src/index.ts"}})}}]);