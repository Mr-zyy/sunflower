(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./examples/sunflower-antd-cascade-select/Example1.tsx":function(e,a,t){"use strict";t.r(a);var n=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),s=t.n(r),o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=t("react"),i=t.n(c),l=(t("./node_modules/antd/es/select/style/index.js"),t("./node_modules/antd/es/select/index.js")),u=t("./packages/sunflower-hooks-store/src/index.ts"),f=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");"undefined"!==typeof UseCascadeSearchConfig&&UseCascadeSearchConfig&&UseCascadeSearchConfig===Object(UseCascadeSearchConfig)&&Object.isExtensible(UseCascadeSearchConfig)&&Object.defineProperty(UseCascadeSearchConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseCascadeSearchConfig",filename:"packages/sunflower-hooks-cascade-search/src/index.ts"}});var d=function(e){var a=e.list,t=void 0===a?[]:a,r=Object(c.useState)([]),s=Object(n.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(t.map(function(){return!1})),u=Object(n.a)(l,2),d=u[0],b=u[1];return{search:function(e){if(!(e>=t.length||e<0)&&(!(e>0)||o[e-1])){var a=Object(f.a)(o.slice(0,e));i(a);var n=Object(f.a)(d);n[e]=!0,b(n);for(var r=arguments.length,s=new Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];Promise.resolve(t[e].apply(t,[o[e-1]].concat(s))).then(function(a){var t=Object(f.a)(o.slice(0,e+1));t[e]=a;var n=Object(f.a)(d);n[e]=!1,b(n),i(t)})}},responseDataList:o,loadingList:d,setResponseDataList:i}};d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useCascadeSearch",filename:"packages/sunflower-hooks-cascade-search/src/index.ts"}}),"undefined"!==typeof OptionData&&OptionData&&OptionData===Object(OptionData)&&Object.isExtensible(OptionData)&&Object.defineProperty(OptionData,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OptionData",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}}),"undefined"!==typeof OptionDataList&&OptionDataList&&OptionDataList===Object(OptionDataList)&&Object.isExtensible(OptionDataList)&&Object.defineProperty(OptionDataList,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OptionDataList",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}}),"undefined"!==typeof UseCascadeSelectConfig&&UseCascadeSelectConfig&&UseCascadeSelectConfig===Object(UseCascadeSelectConfig)&&Object.isExtensible(UseCascadeSelectConfig)&&Object.defineProperty(UseCascadeSelectConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseCascadeSelectConfig",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}});var b=function(e){var a=e.list,t=void 0===a?[]:a,n=e.autoFirstSearch,r=void 0===n||n,s=d({list:t.map(function(e){return function(a){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}})}),o=s.search,f=s.responseDataList,b=s.loadingList,p=s.setResponseDataList,m=Object(c.useRef)([]),g=Object(u.a)(),h=g.get;(0,g.set)({responseDataList:f,loadingList:b,search:o});var j=Object(c.useMemo)(function(){return t.map(function(e,a){return function(e){if(e.__sunflower){var t=e.__sunflower.name;m.current[a]=t}var n=h().responseDataList[a],r=e.value;return Object(c.useEffect)(function(){r&&n&&h().search(a+1,e.value)},[r,n]),i.a.createElement(l.a,Object.assign({loading:h().loadingList[a]},e,{value:n&&r,onChange:function(t,n){if(e.onChange&&e.onChange(t,n),e.__sunflower){for(var r=e.__sunflower.form,s={},o=a+1;o<m.current.length;o+=1)s[m.current[o]]=void 0;var c=h().responseDataList.slice(0,a+1);r.setFieldsValue(s),p(c)}}}),n&&n.map(function(e){return i.a.createElement(l.a.Option,{value:e.value,key:e.value},e.label)}))}})},[]);return Object(c.useEffect)(function(){r&&!f[0]&&o(0)},[]),{search:o,selects:j,optionsList:f,loadingList:b}};b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useCascadeSelect",filename:"packages/sunflower-antd-cascade-select/src/index.tsx"}});var p=t("./packages/sunflower-antd-form-table/src/index.tsx");a.default=function(){var e=b({list:[Object(o.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,1e3)});case 2:return e.abrupt("return",[{label:"LILY",value:"lily"},{label:"JACK",value:"jack"}]);case 3:case"end":return e.stop()}},e)})),function(){var e=Object(o.a)(s.a.mark(function e(a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,1e3)});case 2:return e.abrupt("return",[{label:"".concat(a.toUpperCase()," 1"),value:"".concat(a," 1")},{label:"".concat(a.toUpperCase()," 2"),value:"".concat(a," 2")}]);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),function(){var e=Object(o.a)(s.a.mark(function e(a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,1e3)});case 2:return e.abrupt("return",[{label:"".concat(a.toUpperCase()," 1"),value:"".concat(a," 1")},{label:"".concat(a.toUpperCase()," 2"),value:"".concat(a," 2")}]);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()]}).selects,a=Object(n.a)(e,3),t=a[0],r=a[1],c=a[2],l=Object(p.a)({defaultFormValues:function(){var e=Object(o.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,200)});case 2:return e.abrupt("return",{select0:"lily"});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).Form;return i.a.createElement("div",null,i.a.createElement(l,null,i.a.createElement(l.Item,{label:"Select0",name:"select0"},i.a.createElement(t,{allowClear:!0})),i.a.createElement(l.Item,{label:"Select1",name:"select1"},i.a.createElement(r,{allowClear:!0})),i.a.createElement(l.Item,{label:"Select0",name:"select2"},i.a.createElement(c,{allowClear:!0}))))}},"./packages/sunflower-antd-form-table/src/index.tsx":function(e,a,t){"use strict";t("./node_modules/antd/es/table/style/index.js");var n=t("./node_modules/antd/es/table/index.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),s=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=t("react"),c=t.n(o),i=t("./packages/sunflower-antd-form-table/node_modules/rc-field-form/es/index.js"),l=(t("./node_modules/antd/es/form/style/index.js"),t("./node_modules/antd/es/form/index.js")),u=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),f=t("./packages/sunflower-form/node_modules/rc-field-form/es/index.js"),d=function(e){var a=e.children,t=e.form,n=e.onFinish,r=e.initialValues,s=Object(u.a)(e,["children","form","onFinish","initialValues"]);return c.a.createElement(l.a,Object.assign({},s,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t.validateFields().then(function(e){n&&n(e)}).catch(function(){})}}),c.a.createElement(f.b,{form:t,onFinish:n,component:!1,initialValues:r},a))};d.Item=function(e){var a=e.name,t=e.children,n=e.rules,s=Object(u.a)(e,["name","children","rules"]);return c.a.createElement(f.a,Object.assign({name:a,rules:n},s),function(e,o,i){var u=Object(r.a)({},e,t.props,{__sunflower:{form:i,name:a}}),f="function"===typeof t?t(e,o,i):t;f.props.onChange&&(u.onChange=function(){var a;e.onChange.apply(e,arguments),(a=f.props).onChange.apply(a,arguments)});var d=c.a.cloneElement(f,u),b=o.errors.length>0?"error":void 0,p=o.errors.length>0?o.errors[0]:void 0,m=!!(n||[]).find(function(e){return e.required});return c.a.createElement(l.a.Item,Object.assign({help:p,validateStatus:b,required:m},s),d)})};var b=d;d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Form",filename:"packages/sunflower-form/src/index.tsx"}}),"undefined"!==typeof UseSearchResultConfig&&UseSearchResultConfig&&UseSearchResultConfig===Object(UseSearchResultConfig)&&Object.isExtensible(UseSearchResultConfig)&&Object.defineProperty(UseSearchResultConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseSearchResultConfig",filename:"packages/sunflower-hooks-search-result/src/index.ts"}});var p=function(e){var a=e.search,t=e.autoFirstSearch,n=void 0===t||t,r=e.defaultRequestData,c=Object(o.useState)(),i=Object(s.a)(c,2),l=i[0],u=i[1],f=Object(o.useState)(),d=Object(s.a)(f,2),b=d[0],p=d[1],m=Object(o.useState)(!1),g=Object(s.a)(m,2),h=g[0],j=g[1],O=Object(o.useState)(!1),v=Object(s.a)(O,2),S=v[0],C=v[1],x=function(e){return u(e),j(!0),Promise.resolve(a&&a(e)).then(function(e){p(e),j(!1)})};return Object(o.useEffect)(function(){var e;C(!0),e="function"===typeof r?r():r,Promise.resolve(e).then(function(e){u(e),C(!1),n&&x(e)}).catch(function(){C(!1)})},[]),{loading:h,requestData:l,setRequestData:u,responseData:b,defaultRequestDataLoading:S,search:x}};p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useSearchResult",filename:"packages/sunflower-hooks-search-result/src/index.ts"}});var m=t("./packages/sunflower-hooks-store/src/index.ts");t.d(a,"a",function(){return g}),"undefined"!==typeof SearchResponseData&&SearchResponseData&&SearchResponseData===Object(SearchResponseData)&&Object.isExtensible(SearchResponseData)&&Object.defineProperty(SearchResponseData,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SearchResponseData",filename:"packages/sunflower-antd-form-table/src/index.tsx"}}),"undefined"!==typeof UseSearchResultAntdConfig&&UseSearchResultAntdConfig&&UseSearchResultAntdConfig===Object(UseSearchResultAntdConfig)&&Object.isExtensible(UseSearchResultAntdConfig)&&Object.defineProperty(UseSearchResultAntdConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UseSearchResultAntdConfig",filename:"packages/sunflower-antd-form-table/src/index.tsx"}});var g=function(e){var a=e||{},t=a.search,l=a.autoFirstSearch,u=void 0===l||l,f=a.defaultPageSize,d=void 0===f?10:f,g=a.defaultCurrentPage,h=void 0===g?1:g,j=a.defaultFormValues,O=void 0===j?{}:j,v=Object(i.a)(),S=Object(s.a)(v,1)[0],C=Object(o.useState)(),x=Object(s.a)(C,2),_=x[0],w=x[1],y=p({search:t,autoFirstSearch:u,defaultRequestData:function(){var e;return e="function"===typeof O?O():O,Promise.resolve(e).then(function(e){var a=S.isFieldsTouched(),t=Object(r.a)({},e);if(Object.keys(e).forEach(function(a){t[a]=S.isFieldTouched(a)?S.getFieldValue(a):e[a]}),w(e),S.setFieldsValue(t),a)throw E(Object(r.a)({pageSize:d,currentPage:h},t)),new Error("will not autoFirstSearch");return Object(r.a)({pageSize:d,currentPage:h},t)})}}),D=y.loading,k=y.requestData,P=void 0===k?{}:k,E=y.setRequestData,R=y.responseData,U=void 0===R?{}:R,F=y.defaultRequestDataLoading,L=y.search,z=Object(m.a)(),q=z.get,A=function(e){L(Object(r.a)({currentPage:1,pageSize:P.pageSize},e))},V=function(e){L(Object(r.a)({},P,{currentPage:e}))},T=function(e,a){L(Object(r.a)({},P,{currentPage:1,pageSize:a}))};(0,z.set)({requestData:P,responseData:U,loading:D,initialValues:_,onFinish:A,onPaginationChange:V,onPaginationShowSizeChange:T});var I=Object(o.useCallback)(function(e){return c.a.createElement(b,Object.assign({form:S,onFinish:q().onFinish,initialValues:q().initialValues},e))},[]),J=Object(o.useCallback)(function(e){var a=e.pagination,t=q(),s=Object(r.a)({onChange:t.onPaginationChange,onShowSizeChange:t.onPaginationShowSizeChange,pageSize:t.requestData.pageSize,current:t.requestData.currentPage},a||{},{defaultPageSize:d,defaultCurrent:h,total:t.responseData.total});return c.a.createElement(n.a,Object.assign({loading:t.loading,dataSource:t.responseData.list},e,{pagination:s}))},[]);I.Item=b.Item;var G=Object(r.a)({},P);return delete G.currentPage,delete G.pageSize,{Form:I,Table:J,form:S,loading:D,formValues:G,currentPage:P.currentPage,pageSize:P.pageSize,list:U.list,total:U.total,defaultFormValuesLoading:F,pagination:{onChange:V,onShowSizeChange:T},onFinish:A,search:function(e){L(Object(r.a)({},P,e))}}};"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useFormTable",filename:"packages/sunflower-antd-form-table/src/index.tsx"}})},"./packages/sunflower-hooks-store/src/index.ts":function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t("react"),r=function(){var e=Object(n.useRef)();return{get:Object(n.useCallback)(function(){return e.current},[]),set:Object(n.useCallback)(function(a){e.current=a},[])}};"undefined"!==typeof r&&r&&r===Object(r)&&Object.isExtensible(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useStore",filename:"packages/sunflower-hooks-store/src/index.ts"}})}}]);